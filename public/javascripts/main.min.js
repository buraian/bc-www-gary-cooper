/*! brian-clark-www - v0.0.0
 * Copyright (c) 2017 Brian Clark <github.com/buraian> */

!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(a,b){"use strict";function c(c,f,h){function i(a,b,d){var e,f="$()."+c+'("'+b+'")';return a.each(function(a,i){var j=h.data(i,c);if(!j)return void g(c+" not initialized. Cannot call methods, i.e. "+f);var k=j[b];if(!k||"_"==b.charAt(0))return void g(f+" is not a valid method");var l=k.apply(j,d);e=void 0===e?l:e}),void 0!==e?e:a}function j(a,b){a.each(function(a,d){var e=h.data(d,c);e?(e.option(b),e._init()):(e=new f(d,b),h.data(d,c,e))})}(h=h||b||a.jQuery)&&(f.prototype.option||(f.prototype.option=function(a){h.isPlainObject(a)&&(this.options=h.extend(!0,this.options,a))}),h.fn[c]=function(a){if("string"==typeof a){return i(this,a,e.call(arguments,1))}return j(this,a),this},d(h))}function d(a){!a||a&&a.bridget||(a.bridget=c)}var e=Array.prototype.slice,f=a.console,g=void 0===f?function(){}:function(a){f.error(a)};return d(b||a.jQuery),c}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return d.indexOf(b)==-1&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{};return(c[a]=c[a]||{})[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return d!=-1&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=0,e=c[d];b=b||[];for(var f=this._onceEvents&&this._onceEvents[a];e;){var g=f&&f[e];g&&(this.off(a,e),delete f[e]),e.apply(this,b),d+=g?0:1,e=c[d]}return this}},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){"use strict";function a(a){var b=parseFloat(a);return a.indexOf("%")==-1&&!isNaN(b)&&b}function b(){}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0;b<j;b++){a[i[b]]=0}return a}function d(a){var b=getComputedStyle(a);return b||h("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),b}function e(){if(!k){k=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var c=document.body||document.documentElement;c.appendChild(b);var e=d(b);f.isBoxSizeOuter=g=200==a(e.width),c.removeChild(b)}}function f(b){if(e(),"string"==typeof b&&(b=document.querySelector(b)),b&&"object"==typeof b&&b.nodeType){var f=d(b);if("none"==f.display)return c();var h={};h.width=b.offsetWidth,h.height=b.offsetHeight;for(var k=h.isBorderBox="border-box"==f.boxSizing,l=0;l<j;l++){var m=i[l],n=f[m],o=parseFloat(n);h[m]=isNaN(o)?0:o}var p=h.paddingLeft+h.paddingRight,q=h.paddingTop+h.paddingBottom,r=h.marginLeft+h.marginRight,s=h.marginTop+h.marginBottom,t=h.borderLeftWidth+h.borderRightWidth,u=h.borderTopWidth+h.borderBottomWidth,v=k&&g,w=a(f.width);w!==!1&&(h.width=w+(v?0:p+t));var x=a(f.height);return x!==!1&&(h.height=x+(v?0:q+u)),h.innerWidth=h.width-(p+t),h.innerHeight=h.height-(q+u),h.outerWidth=h.width+r,h.outerHeight=h.height+s,h}}var g,h="undefined"==typeof console?b:function(a){console.error(a)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=i.length,k=!1;return f}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){"use strict";var a=function(){var a=window.Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0;c<b.length;c++){var d=b[c],e=d+"MatchesSelector";if(a[e])return e}}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(a,b){var c={};c.extend=function(a,b){for(var c in b)a[c]=b[c];return a},c.modulo=function(a,b){return(a%b+b)%b},c.makeArray=function(a){var b=[];if(Array.isArray(a))b=a;else if(a&&"object"==typeof a&&"number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b},c.removeFrom=function(a,b){var c=a.indexOf(b);c!=-1&&a.splice(c,1)},c.getParent=function(a,c){for(;a!=document.body;)if(a=a.parentNode,b(a,c))return a},c.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},c.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.filterFindElements=function(a,d){a=c.makeArray(a);var e=[];return a.forEach(function(a){if(a instanceof HTMLElement){if(!d)return void e.push(a);b(a,d)&&e.push(a);for(var c=a.querySelectorAll(d),f=0;f<c.length;f++)e.push(c[f])}}),e},c.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},c.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},c.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var d=a.console;return c.htmlInit=function(b,e){c.docReady(function(){var f=c.toDashed(e),g="data-"+f,h=document.querySelectorAll("["+g+"]"),i=document.querySelectorAll(".js-"+f),j=c.makeArray(h).concat(c.makeArray(i)),k=g+"-options",l=a.jQuery;j.forEach(function(a){var c,f=a.getAttribute(g)||a.getAttribute(k);try{c=f&&JSON.parse(f)}catch(b){return void(d&&d.error("Error parsing "+g+" on "+a.className+": "+b))}var h=new b(a,c);l&&l.data(a,e,h)})})},c}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(a,b){"use strict";function c(a){for(var b in a)return!1;return null,!0}function d(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var e=document.documentElement.style,f="string"==typeof e.transition?"transition":"WebkitTransition",g="string"==typeof e.transform?"transform":"WebkitTransform",h={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[f],i={transform:g,transition:f,transitionDuration:f+"Duration",transitionProperty:f+"Property",transitionDelay:f+"Delay"},j=d.prototype=Object.create(a.prototype);j.constructor=d,j._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},j.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},j.getSize=function(){this.size=b(this.element)},j.css=function(a){var b=this.element.style;for(var c in a){b[i[c]||c]=a[c]}},j.getPosition=function(){var a=getComputedStyle(this.element),b=this.layout._getOption("originLeft"),c=this.layout._getOption("originTop"),d=a[b?"left":"right"],e=a[c?"top":"bottom"],f=this.layout.size,g=d.indexOf("%")!=-1?parseFloat(d)/100*f.width:parseInt(d,10),h=e.indexOf("%")!=-1?parseFloat(e)/100*f.height:parseInt(e,10);g=isNaN(g)?0:g,h=isNaN(h)?0:h,g-=b?f.paddingLeft:f.paddingRight,h-=c?f.paddingTop:f.paddingBottom,this.position.x=g,this.position.y=h},j.layoutPosition=function(){var a=this.layout.size,b={},c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),e=c?"paddingLeft":"paddingRight",f=c?"left":"right",g=c?"right":"left",h=this.position.x+a[e];b[f]=this.getXValue(h),b[g]="";var i=d?"paddingTop":"paddingBottom",j=d?"top":"bottom",k=d?"bottom":"top",l=this.position.y+a[i];b[j]=this.getYValue(l),b[k]="",this.css(b),this.emitEvent("layout",[this])},j.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?a/this.layout.size.width*100+"%":a+"px"},j.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?a/this.layout.size.height*100+"%":a+"px"},j._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},j.getTranslate=function(a,b){var c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop");return a=c?a:-a,b=d?b:-b,"translate3d("+a+"px, "+b+"px, 0)"},j.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},j.moveTo=j._transitionTo,j.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},j._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},j.transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);this.element.offsetHeight;null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var k="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(g);j.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a="number"==typeof a?a+"ms":a,this.css({transitionProperty:k,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},j.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},j.onotransitionend=function(a){this.ontransitionend(a)};var l={"-webkit-transform":"transform"};j.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=l[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){b.onEnd[d].call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},j.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},j._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var m={transitionProperty:"",transitionDuration:"",transitionDelay:""};return j.removeTransitionStyles=function(){this.css(m)},j.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},j.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},j.remove=function(){if(!f||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();this.once("transitionEnd",function(){this.removeElem()}),this.hide()},j.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={};b[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},j.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},j.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},j.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={};b[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},j.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},j.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e){"use strict";function f(a,b){var c=d.getQueryElement(a);if(!c)return void(i&&i.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,j&&(this.$element=j(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(b);var e=++l;this.element.outlayerGUID=e,m[e]=this,this._create(),this._getOption("initLayout")&&this.layout()}function g(a){function b(){a.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b}function h(a){if("number"==typeof a)return a;var b=a.match(/(^\d*\.?\d*)(\w*)/),c=b&&b[1],d=b&&b[2];return c.length?(c=parseFloat(c))*(o[d]||1):0}var i=a.console,j=a.jQuery,k=function(){},l=0,m={};f.namespace="outlayer",f.Item=e,f.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var n=f.prototype;d.extend(n,b.prototype),n.option=function(a){d.extend(this.options,a)},n._getOption=function(a){var b=this.constructor.compatOptions[a];return b&&void 0!==this.options[b]?this.options[b]:this.options[a]},f.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},n._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},n.reloadItems=function(){this.items=this._itemize(this.element.children)},n._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0;e<b.length;e++){var f=b[e],g=new c(f,this);d.push(g)}return d},n._filterFindItemElements=function(a){return d.filterFindElements(a,this.options.itemSelector)},n.getItemElements=function(){return this.items.map(function(a){return a.element})},n.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),b=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,b),this._isLayoutInited=!0},n._init=n.layout,n._resetLayout=function(){this.getSize()},n.getSize=function(){this.size=c(this.element)},n._getMeasurement=function(a,b){var d,e=this.options[a];e?("string"==typeof e?d=this.element.querySelector(e):e instanceof HTMLElement&&(d=e),this[a]=d?c(d)[b]:e):this[a]=0},n.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},n._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})},n._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){var c=[];a.forEach(function(a){var d=this._getItemLayoutPosition(a);d.item=a,d.isInstant=b||a.isLayoutInstant,c.push(d)},this),this._processLayoutQueue(c)}},n._getItemLayoutPosition=function(){return{x:0,y:0}},n._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(a,b){this._positionItem(a.item,a.x,a.y,a.isInstant,b)},this)},n.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void(this.stagger=0):(this.stagger=h(a),this.stagger)},n._positionItem=function(a,b,c,d,e){d?a.goTo(b,c):(a.stagger(e*this.stagger),a.moveTo(b,c))},n._postLayout=function(){this.resizeContainer()},n.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},n._getContainerSize=k,n._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},n._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){++g==f&&c()}var e=this,f=b.length;if(!b||!f)return void c();var g=0;b.forEach(function(b){b.once(a,d)})},n.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),j)if(this.$element=this.$element||j(this.element),b){var e=j.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},n.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},n.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},n.stamp=function(a){(a=this._find(a))&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},n.unstamp=function(a){(a=this._find(a))&&a.forEach(function(a){d.removeFrom(this.stamps,a),this.unignore(a)},this)},n._find=function(a){if(a)return"string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d.makeArray(a)},n._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},n._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},n._manageStamp=k,n._getElementOffset=function(a){var b=a.getBoundingClientRect(),d=this._boundingRect,e=c(a);return{left:b.left-d.left-e.marginLeft,top:b.top-d.top-e.marginTop,right:d.right-b.right-e.marginRight,bottom:d.bottom-b.bottom-e.marginBottom}},n.handleEvent=d.handleEvent,n.bindResize=function(){a.addEventListener("resize",this),this.isResizeBound=!0},n.unbindResize=function(){a.removeEventListener("resize",this),this.isResizeBound=!1},n.onresize=function(){this.resize()},d.debounceMethod(f,"onresize",100),n.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},n.needsResizeLayout=function(){var a=c(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth},n.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},n.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},n.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},n.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.reveal()})}},n.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.hide()})}},n.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},n.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},n.getItem=function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b];if(c.element==a)return c}},n.getItems=function(a){a=d.makeArray(a);var b=[];return a.forEach(function(a){var c=this.getItem(a);c&&b.push(c)},this),b},n.remove=function(a){var b=this.getItems(a);this._emitCompleteOnItems("remove",b),b&&b.length&&b.forEach(function(a){a.remove(),d.removeFrom(this.items,a)},this)},n.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(a){a.destroy()}),this.unbindResize(),delete m[this.element.outlayerGUID],delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},f.data=function(a){a=d.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&m[b]},f.create=function(a,b){var c=g(f);return c.defaults=d.extend({},f.defaults),d.extend(c.defaults,b),c.compatOptions=d.extend({},f.compatOptions),c.namespace=a,c.data=f.data,c.Item=g(e),d.htmlInit(c,a),j&&j.bridget&&j.bridget(a,c),c};var o={ms:1,s:1e3};return f.Item=e,f}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window,function(a){"use strict";function b(){a.Item.apply(this,arguments)}var c=b.prototype=Object.create(a.Item.prototype),d=c._create;c._create=function(){this.id=this.layout.itemGUID++,d.call(this),this.sortData={}},c.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var a=this.layout.options.getSortData,b=this.layout._sorters;for(var c in a){var d=b[c];this.sortData[c]=d(this.element,this)}}};var e=c.destroy;return c.destroy=function(){e.apply(this,arguments),this.css({display:""})},b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("get-size"),require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window,function(a,b){"use strict";function c(a){this.isotope=a,a&&(this.options=a.options[this.namespace],this.element=a.element,this.items=a.filteredItems,this.size=a.size)}var d=c.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(a){d[a]=function(){return b.prototype[a].apply(this.isotope,arguments)}}),d.needsVerticalResizeLayout=function(){var b=a(this.isotope.element);return this.isotope.size&&b&&b.innerHeight!=this.isotope.size.innerHeight},d._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},d.getColumnWidth=function(){this.getSegmentSize("column","Width")},d.getRowHeight=function(){this.getSegmentSize("row","Height")},d.getSegmentSize=function(a,b){var c=a+b,d="outer"+b;if(this._getMeasurement(c,d),!this[c]){var e=this.getFirstItemSize();this[c]=e&&e[d]||this.isotope.size["inner"+b]}},d.getFirstItemSize=function(){var b=this.isotope.filteredItems[0];return b&&b.element&&a(b.element)},d.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},d.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},c.modes={},c.create=function(a,b){function e(){c.apply(this,arguments)}return e.prototype=Object.create(d),e.prototype.constructor=e,b&&(e.options=b),e.prototype.namespace=a,c.modes[a]=e,e},c}),function(a,b){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(a,b){var c=a.create("masonry");return c.compatOptions.fitWidth="isFitWidth",c.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0},c.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&g<1?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},c.prototype.getContainerWidth=function(){var a=this._getOption("fitWidth"),c=a?this.element.parentNode:this.element,d=b(c);this.containerWidth=d&&d.innerWidth},c.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,c=b&&b<1?"round":"ceil",d=Math[c](a.size.outerWidth/this.columnWidth);d=Math.min(d,this.cols);for(var e=this._getColGroup(d),f=Math.min.apply(Math,e),g=e.indexOf(f),h={x:this.columnWidth*g,y:f},i=f+a.size.outerHeight,j=this.cols+1-e.length,k=0;k<j;k++)this.colYs[g+k]=i;return h},c.prototype._getColGroup=function(a){if(a<2)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;d<c;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},c.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this._getOption("originLeft"),f=e?d.left:d.right,g=f+c.outerWidth,h=Math.floor(f/this.columnWidth);h=Math.max(0,h);var i=Math.floor(g/this.columnWidth);i-=g%this.columnWidth?0:1,i=Math.min(this.cols-1,i);for(var j=this._getOption("originTop"),k=(j?d.top:d.bottom)+c.outerHeight,l=h;l<=i;l++)this.colYs[l]=Math.max(k,this.colYs[l])},c.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},c.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},c.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode"),require("masonry-layout")):b(a.Isotope.LayoutMode,a.Masonry)}(window,function(a,b){"use strict";var c=a.create("masonry"),d=c.prototype,e={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var f in b.prototype)e[f]||(d[f]=b.prototype[f]);var g=d.measureColumns;d.measureColumns=function(){this.items=this.isotope.filteredItems,g.call(this)};var h=d._getOption;return d._getOption=function(a){return"fitWidth"==a?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:h.apply(this.isotope,arguments)},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){"use strict";var b=a.create("fitRows"),c=b.prototype;return c._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},c._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth+this.gutter,c=this.isotope.size.innerWidth+this.gutter;0!==this.x&&b+this.x>c&&(this.x=0,this.y=this.maxY);var d={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+a.size.outerHeight),this.x+=b,d},c._getContainerSize=function(){return{height:this.maxY}},b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){"use strict";var b=a.create("vertical",{horizontalAlignment:0}),c=b.prototype;return c._resetLayout=function(){this.y=0},c._getItemLayoutPosition=function(a){a.getSize();var b=(this.isotope.size.innerWidth-a.size.outerWidth)*this.options.horizontalAlignment,c=this.y;return this.y+=a.size.outerHeight,{x:b,y:c}},c._getContainerSize=function(){return{height:this.y}},b}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(c,d,e,f,g,h){return b(a,c,d,e,f,g,h)}):"object"==typeof module&&module.exports?module.exports=b(a,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):a.Isotope=b(a,a.Outlayer,a.getSize,a.matchesSelector,a.fizzyUIUtils,a.Isotope.Item,a.Isotope.LayoutMode)}(window,function(a,b,c,d,e,f,g){function h(a,b){return function(c,d){for(var e=0;e<a.length;e++){var f=a[e],g=c.sortData[f],h=d.sortData[f];if(g>h||g<h){var i=void 0!==b[f]?b[f]:b,j=i?1:-1;return(g>h?1:-1)*j}}return 0}}var i=a.jQuery,j=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},k=b.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});k.Item=f,k.LayoutMode=g;var l=k.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),b.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in g.modes)this._initLayoutMode(a)},l.reloadItems=function(){this.itemGUID=0,b.prototype.reloadItems.call(this)},l._itemize=function(){for(var a=b.prototype._itemize.apply(this,arguments),c=0;c<a.length;c++){a[c].id=this.itemGUID++}return this._updateItemsSortData(a),a},l._initLayoutMode=function(a){var b=g.modes[a],c=this.options[a]||{};this.options[a]=b.options?e.extend(b.options,c):c,this.modes[a]=new b(this)},l.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout"))return void this.arrange();this._layout()},l._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},l.arrange=function(a){this.option(a),this._getIsInstant();var b=this._filter(this.items);this.filteredItems=b.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[b]):this._hideReveal(b),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(a){this.reveal(a.needReveal),this.hide(a.needHide)},l._getIsInstant=function(){var a=this._getOption("layoutInstant"),b=void 0!==a?a:!this._isLayoutInited;return this._isInstant=b,b},l._bindArrangeComplete=function(){function a(){b&&c&&d&&e.dispatchEvent("arrangeComplete",null,[e.filteredItems])}var b,c,d,e=this;this.once("layoutComplete",function(){b=!0,a()}),this.once("hideComplete",function(){c=!0,a()}),this.once("revealComplete",function(){d=!0,a()})},l._filter=function(a){var b=this.options.filter;b=b||"*";for(var c=[],d=[],e=[],f=this._getFilterTest(b),g=0;g<a.length;g++){var h=a[g];if(!h.isIgnored){var i=f(h);i&&c.push(h),i&&h.isHidden?d.push(h):i||h.isHidden||e.push(h)}}return{matches:c,needReveal:d,needHide:e}},l._getFilterTest=function(a){return i&&this.options.isJQueryFiltering?function(b){return i(b.element).is(a)}:"function"==typeof a?function(b){return a(b.element)}:function(b){return d(b.element,a)}},l.updateSortData=function(a){var b;a?(a=e.makeArray(a),b=this.getItems(a)):b=this.items,this._getSorters(),this._updateItemsSortData(b)},l._getSorters=function(){var a=this.options.getSortData;for(var b in a){var c=a[b];this._sorters[b]=m(c)}},l._updateItemsSortData=function(a){for(var b=a&&a.length,c=0;b&&c<b;c++){a[c].updateSortData()}};var m=function(){function a(a){if("string"!=typeof a)return a;var c=j(a).split(" "),d=c[0],e=d.match(/^\[(.+)\]$/),f=e&&e[1],g=b(f,d),h=k.sortDataParsers[c[1]];return a=h?function(a){return a&&h(g(a))}:function(a){return a&&g(a)}}function b(a,b){return a?function(b){
return b.getAttribute(a)}:function(a){var c=a.querySelector(b);return c&&c.textContent}}return a}();k.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},l._sort=function(){if(this.options.sortBy){var a=e.makeArray(this.options.sortBy);this._getIsSameSortBy(a)||(this.sortHistory=a.concat(this.sortHistory));var b=h(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(b)}},l._getIsSameSortBy=function(a){for(var b=0;b<a.length;b++)if(a[b]!=this.sortHistory[b])return!1;return!0},l._mode=function(){var a=this.options.layoutMode,b=this.modes[a];if(!b)throw new Error("No layout mode: "+a);return b.options=this.options[a],b},l._resetLayout=function(){b.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},l._manageStamp=function(a){this._mode()._manageStamp(a)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(a){var b=this.addItems(a);if(b.length){var c=this._filterRevealAdded(b);this.filteredItems=this.filteredItems.concat(c)}},l.prepended=function(a){var b=this._itemize(a);if(b.length){this._resetLayout(),this._manageStamps();var c=this._filterRevealAdded(b);this.layoutItems(this.filteredItems),this.filteredItems=c.concat(this.filteredItems),this.items=b.concat(this.items)}},l._filterRevealAdded=function(a){var b=this._filter(a);return this.hide(b.needHide),this.reveal(b.matches),this.layoutItems(b.matches,!0),b.matches},l.insert=function(a){var b=this.addItems(a);if(b.length){var c,d,e=b.length;for(c=0;c<e;c++)d=b[c],this.element.appendChild(d.element);var f=this._filter(b).matches;for(c=0;c<e;c++)b[c].isLayoutInstant=!0;for(this.arrange(),c=0;c<e;c++)delete b[c].isLayoutInstant;this.reveal(f)}};var n=l.remove;return l.remove=function(a){a=e.makeArray(a);var b=this.getItems(a);n.call(this,a);for(var c=b&&b.length,d=0;c&&d<c;d++){var f=b[d];e.removeFrom(this.filteredItems,f)}},l.shuffle=function(){for(var a=0;a<this.items.length;a++){this.items[a].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(a,b){var c=this.options.transitionDuration;this.options.transitionDuration=0;var d=a.apply(this,b);return this.options.transitionDuration=c,d},l.getFilteredItemElements=function(){return this.filteredItems.map(function(a){return a.element})},k}),function(window,document,undefined){function is(a,b){return typeof a===b}function testRunner(){var a,b,c,d,e,f,g;for(var h in tests)if(tests.hasOwnProperty(h)){if(a=[],b=tests[h],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(d=is(b.fn,"function")?b.fn():b.fn,e=0;e<a.length;e++)f=a[e],g=f.split("."),1===g.length?Modernizr[g[0]]=d:(!Modernizr[g[0]]||Modernizr[g[0]]instanceof Boolean||(Modernizr[g[0]]=new Boolean(Modernizr[g[0]])),Modernizr[g[0]][g[1]]=d),classes.push((d?"":"no-")+g.join("-"))}}function setClasses(a){var b=docElement.className,c=Modernizr._config.classPrefix||"";if(isSVG&&(b=b.baseVal),Modernizr._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}Modernizr._config.enableClasses&&(b+=" "+c+a.join(" "+c),isSVG?docElement.className.baseVal=b:docElement.className=b)}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function contains(a,b){return!!~(""+a).indexOf(b)}function getBody(){var a=document.body;return a||(a=createElement(isSVG?"svg":"body"),a.fake=!0),a}function injectElementWithStyles(a,b,c,d){var e,f,g,h,i="modernizr",j=createElement("div"),k=getBody();if(parseInt(c,10))for(;c--;)g=createElement("div"),g.id=d?d[c]:i+(c+1),j.appendChild(g);return e=createElement("style"),e.type="text/css",e.id="s"+i,(k.fake?k:j).appendChild(e),k.appendChild(j),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a)),j.id=i,k.fake&&(k.style.background="",k.style.overflow="hidden",h=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(k)),f=b(j,a),k.fake?(k.parentNode.removeChild(k),docElement.style.overflow=h,docElement.offsetHeight):j.parentNode.removeChild(j),!!f}function domToCSS(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function nativeTestProps(a,b){var c=a.length;if("CSS"in window&&"supports"in window.CSS){for(;c--;)if(window.CSS.supports(domToCSS(a[c]),b))return!0;return!1}if("CSSSupportsRule"in window){for(var d=[];c--;)d.push("("+domToCSS(a[c])+":"+b+")");return d=d.join(" or "),injectElementWithStyles("@supports ("+d+") { #modernizr { position: absolute; } }",function(a){return"absolute"==getComputedStyle(a,null).position})}return undefined}function cssToDOM(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function testProps(a,b,c,d){function e(){g&&(delete mStyle.style,delete mStyle.modElem)}if(d=!is(d,"undefined")&&d,!is(c,"undefined")){var f=nativeTestProps(a,c);if(!is(f,"undefined"))return f}for(var g,h,i,j,k,l=["modernizr","tspan"];!mStyle.style;)g=!0,mStyle.modElem=createElement(l.shift()),mStyle.style=mStyle.modElem.style;for(i=a.length,h=0;i>h;h++)if(j=a[h],k=mStyle.style[j],contains(j,"-")&&(j=cssToDOM(j)),mStyle.style[j]!==undefined){if(d||is(c,"undefined"))return e(),"pfx"!=b||j;try{mStyle.style[j]=c}catch(a){}if(mStyle.style[j]!=k)return e(),"pfx"!=b||j}return e(),!1}function fnBind(a,b){return function(){return a.apply(b,arguments)}}function testDOMProps(a,b,c){var d;for(var e in a)if(a[e]in b)return c===!1?a[e]:(d=b[a[e]],is(d,"function")?fnBind(d,c||b):d);return!1}function testPropsAll(a,b,c,d,e){var f=a.charAt(0).toUpperCase()+a.slice(1),g=(a+" "+cssomPrefixes.join(f+" ")+f).split(" ");return is(b,"string")||is(b,"undefined")?testProps(g,b,d,e):(g=(a+" "+domPrefixes.join(f+" ")+f).split(" "),testDOMProps(g,b,c))}function addTest(a,b){if("object"==typeof a)for(var c in a)hasOwnProp(a,c)&&addTest(c,a[c]);else{a=a.toLowerCase();var d=a.split("."),e=Modernizr[d[0]];if(2==d.length&&(e=e[d[1]]),void 0!==e)return Modernizr;b="function"==typeof b?b():b,1==d.length?Modernizr[d[0]]=b:(!Modernizr[d[0]]||Modernizr[d[0]]instanceof Boolean||(Modernizr[d[0]]=new Boolean(Modernizr[d[0]])),Modernizr[d[0]][d[1]]=b),setClasses([(b&&0!=b?"":"no-")+d.join("-")]),Modernizr._trigger(a,b)}return Modernizr}var tests=[],ModernizrProto={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){tests.push({name:a,fn:b,options:c})},addAsyncTest:function(a){tests.push({name:null,fn:a})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var classes=[],docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase(),hasEvent=function(){function a(a,c){var d;return!!a&&(c&&"string"!=typeof c||(c=createElement(c||"div")),a="on"+a,d=a in c,!d&&b&&(c.setAttribute||(c=createElement("div")),c.setAttribute(a,""),d="function"==typeof c[a],c[a]!==undefined&&(c[a]=undefined),c.removeAttribute(a)),d)}var b=!("onblur"in document.documentElement);return a}();ModernizrProto.hasEvent=hasEvent,Modernizr.addTest("ambientlight",hasEvent("devicelight",window)),Modernizr.addTest("applicationcache","applicationCache"in window),Modernizr.addTest("audio",function(){var a=createElement("audio"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),b.mp3=a.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),b.opus=a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return b}),Modernizr.addTest("canvas",function(){var a=createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}),Modernizr.addTest("canvastext",function(){return Modernizr.canvas!==!1&&"function"==typeof createElement("canvas").getContext("2d").fillText}),Modernizr.addTest("contenteditable",function(){if("contentEditable"in docElement){var a=createElement("div");return a.contentEditable=!0,"true"===a.contentEditable}}),Modernizr.addTest("contextmenu","contextMenu"in docElement&&"HTMLMenuItemElement"in window),Modernizr.addTest("cookies",function(){try{document.cookie="cookietest=1";var a=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a}catch(a){return!1}}),Modernizr.addTest("cors","XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest),Modernizr.addTest("customevent","CustomEvent"in window&&"function"==typeof window.CustomEvent);var omPrefixes="Moz O ms Webkit",cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var modElem={elem:createElement("modernizr")};Modernizr._q.push(function(){delete modElem.elem});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style});var domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes,ModernizrProto.testAllProps=testPropsAll;var atRule=function(a){var b,c=prefixes.length,d=window.CSSRule;if(void 0===d)return undefined;if(!a)return!1;if(a=a.replace(/^@/,""),(b=a.replace(/-/g,"_").toUpperCase()+"_RULE")in d)return"@"+a;for(var e=0;c>e;e++){var f=prefixes[e];if(f.toUpperCase()+"_"+b in d)return"@-"+f.toLowerCase()+"-"+a}return!1};ModernizrProto.atRule=atRule;var prefixed=ModernizrProto.prefixed=function(a,b,c){return 0===a.indexOf("@")?atRule(a):(-1!=a.indexOf("-")&&(a=cssToDOM(a)),b?testPropsAll(a,b,c):testPropsAll(a,"pfx"))};Modernizr.addTest("dart",!!prefixed("startDart",navigator)),Modernizr.addTest("emoji",function(){if(!Modernizr.canvastext)return!1;var a=window.devicePixelRatio||1,b=12*a,c=createElement("canvas"),d=c.getContext("2d");return d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("🐨",0,0),0!==d.getImageData(b,b,1,1).data[0]}),Modernizr.addTest("eventlistener","addEventListener"in window);var hasOwnProp;!function(){var a={}.hasOwnProperty;hasOwnProp=is(a,"undefined")||is(a.call,"undefined")?function(a,b){return b in a&&is(a.constructor.prototype[b],"undefined")}:function(b,c){return a.call(b,c)}}(),ModernizrProto._l={},ModernizrProto.on=function(a,b){this._l[a]||(this._l[a]=[]),this._l[a].push(b),Modernizr.hasOwnProperty(a)&&setTimeout(function(){Modernizr._trigger(a,Modernizr[a])},0)},ModernizrProto._trigger=function(a,b){if(this._l[a]){var c=this._l[a];setTimeout(function(){var a;for(a=0;a<c.length;a++)(0,c[a])(b)},0),delete this._l[a]}},Modernizr._q.push(function(){ModernizrProto.addTest=addTest}),Modernizr.addAsyncTest(function(){var a,b=function(a){docElement.contains(a)||docElement.appendChild(a)},c=function(a){a.fake&&a.parentNode&&a.parentNode.removeChild(a)},d=function(a,b){var c=!!a;if(c&&(c=new Boolean(c),c.blocked="blocked"===a),addTest("flash",function(){return c}),b&&h.contains(b)){for(;b.parentNode!==h;)b=b.parentNode;h.removeChild(b)}};try{a="ActiveXObject"in window&&"Pan"in new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||a)||isSVG)d(!1);else{var e,f,g=createElement("embed"),h=getBody();if(g.type="application/x-shockwave-flash",h.appendChild(g),!("Pan"in g||a))return b(h),d("blocked",g),void c(h);e=function(){return b(h),docElement.contains(h)?(docElement.contains(g)?(f=g.style.cssText,""!==f?d("blocked",g):d(!0,g)):d("blocked"),void c(h)):(h=document.body||h,g=createElement("embed"),g.type="application/x-shockwave-flash",h.appendChild(g),setTimeout(e,1e3))},setTimeout(e,10)}}),Modernizr.addTest("geolocation","geolocation"in navigator),Modernizr.addTest("hashchange",function(){return hasEvent("hashchange",window)!==!1&&(document.documentMode===undefined||document.documentMode>7)});var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("hiddenscroll",function(){return testStyles("#modernizr {width:100px;height:100px;overflow:scroll}",function(a){return a.offsetWidth===a.clientWidth})}),Modernizr.addTest("history",function(){var a=navigator.userAgent;return(-1===a.indexOf("Android 2.")&&-1===a.indexOf("Android 4.0")||-1===a.indexOf("Mobile Safari")||-1!==a.indexOf("Chrome")||-1!==a.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}),addTest("htmlimports","import"in createElement("link")),Modernizr.addTest("ie8compat",!window.addEventListener&&!!document.documentMode&&7===document.documentMode);var indexeddb;try{indexeddb=prefixed("indexedDB",window)}catch(a){}Modernizr.addTest("indexeddb",!!indexeddb),indexeddb&&Modernizr.addTest("indexeddb.deletedatabase","deleteDatabase"in indexeddb),Modernizr.addAsyncTest(function(){var a,b,c,d="detect-blob-support",e=!1;try{a=prefixed("indexedDB",window)}catch(a){}if(!Modernizr.indexeddb||!Modernizr.indexeddb.deletedatabase)return!1;try{a.deleteDatabase(d).onsuccess=function(){b=a.open(d,1),b.onupgradeneeded=function(){b.result.createObjectStore("store")},b.onsuccess=function(){c=b.result;try{c.transaction("store","readwrite").objectStore("store").put(new Blob,"key"),e=!0}catch(a){e=!1}finally{addTest("indexeddbblob",e),c.close(),a.deleteDatabase(d)}}}}catch(a){addTest("indexeddbblob",!1)}});var inputElem=createElement("input"),inputattrs="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),attrs={};Modernizr.input=function(a){for(var b=0,c=a.length;c>b;b++)attrs[a[b]]=!!(a[b]in inputElem);return attrs.list&&(attrs.list=!(!createElement("datalist")||!window.HTMLDataListElement)),attrs}(inputattrs);var inputtypes="search tel url email datetime date month week time datetime-local number range color".split(" "),inputs={};Modernizr.inputtypes=function(a){for(var b,c,d,e=a.length,f=0;e>f;f++)inputElem.setAttribute("type",b=a[f]),d="text"!==inputElem.type&&"style"in inputElem,d&&(inputElem.value="1)",inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(b)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),c=document.defaultView,d=c.getComputedStyle&&"textfield"!==c.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(b)||(d=/^(url|email)$/.test(b)?inputElem.checkValidity&&inputElem.checkValidity()===!1:"1)"!=inputElem.value)),inputs[a[f]]=!!d;return inputs}(inputtypes),Modernizr.addTest("intl",!!prefixed("Intl",window)),Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON),Modernizr.addTest("mathml",function(){var a;return testStyles("#modernizr{position:absolute;display:inline-block}",function(b){b.innerHTML+="<math><mfrac><mi>xx</mi><mi>yy</mi></mfrac></math>",a=b.offsetHeight>b.offsetWidth}),a}),Modernizr.addTest("notification",function(){if(!window.Notification||!window.Notification.requestPermission)return!1;if("granted"===window.Notification.permission)return!0;try{new window.Notification("")}catch(a){if("TypeError"===a.name)return!1}return!0}),Modernizr.addTest("performance",!!prefixed("performance",window)),Modernizr.addTest("pointerevents",function(){var a=!1,b=domPrefixes.length;for(a=Modernizr.hasEvent("pointerdown");b--&&!a;)hasEvent(domPrefixes[b]+"pointerdown")&&(a=!0);return a}),Modernizr.addTest("postmessage","postMessage"in window),Modernizr.addAsyncTest(function(){function a(){clearTimeout(b),window.removeEventListener("deviceproximity",a),addTest("proximity",!0)}var b;"ondeviceproximity"in window&&"onuserproximity"in window?(window.addEventListener("deviceproximity",a),b=setTimeout(function(){window.removeEventListener("deviceproximity",a),addTest("proximity",!1)},300)):addTest("proximity",!1)}),Modernizr.addTest("queryselector","querySelector"in document&&"querySelectorAll"in document),Modernizr.addTest("requestanimationframe",!!prefixed("requestAnimationFrame",window),{aliases:["raf"]}),Modernizr.addTest("serviceworker","serviceWorker"in navigator),Modernizr.addTest("svg",!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Modernizr.addTest("templatestrings",function(){var supports;try{eval("``"),supports=!0}catch(a){}return!!supports});var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];ModernizrProto._prefixes=prefixes,Modernizr.addTest("touchevents",function(){var a;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)a=!0;else{testStyles(["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=9===b.offsetTop})}return a}),Modernizr.addTest("unicode",function(){var a,b=createElement("span"),c=createElement("span");return testStyles("#modernizr{font-family:Arial,sans;font-size:300em;}",function(d){b.innerHTML=isSVG?"妇":"&#5987",c.innerHTML=isSVG?"☆":"&#9734",d.appendChild(b),d.appendChild(c),a="offsetWidth"in b&&b.offsetWidth!==c.offsetWidth}),a}),Modernizr.addTest("userdata",!!createElement("div").addBehavior),Modernizr.addTest("video",function(){var a=createElement("video"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(a){}return b}),Modernizr.addTest("vml",function(){var a,b=createElement("div"),c=!1;return isSVG||(b.innerHTML='<v:shape id="vml_flag1" adj="1" />',a=b.firstChild,a.style.behavior="url(#default#VML)",c=!a||"object"==typeof a.adj),c}),Modernizr.addTest("webgl",function(){var a=createElement("canvas"),b="probablySupportsContext"in a?"probablySupportsContext":"supportsContext";return b in a?a[b]("webgl")||a[b]("experimental-webgl"):"WebGLRenderingContext"in window}),Modernizr.addTest("websockets","WebSocket"in window&&2===window.WebSocket.CLOSING),Modernizr.addTest("xdomainrequest","XDomainRequest"in window),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";return function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10))>=1&&g<8&&(d.isOldIOSPhone=!0)}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(i<4.4&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;n<4;n++){c=m[n];for(var o=0;o<3;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(g,d);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka=function(){return{x:0,y:0}},la=ka(),ma=ka(),na=ka(),oa={},pa=0,qa={},ra=ka(),sa=0,ta=!0,ua=[],va={},wa=!1,xa=function(a,b){e.extend(f,b.publicMethods),ua.push(a)},ya=function(a){var b=Yb();return a>b-1?a-b:a<0?b+a:a},za={},Aa=function(a,b){return za[a]||(za[a]=[]),za[a].push(b)},Ba=function(a){var b=za[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ca=function(){return(new Date).getTime()},Da=function(a){ha=a,f.bg.style.opacity=a*g.bgOpacity},Ea=function(a,b,c,d,e){(!wa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[C]=s+b+"px, "+c+"px"+t+" scale("+d+")"},Fa=function(a){ca&&(a&&(q>f.currItem.fitRatio?wa||(ic(f.currItem,!1,!0),wa=!0):wa&&(ic(f.currItem),wa=!1)),Ea(ca,na.x,na.y,q))},Ga=function(a){a.container&&Ea(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ha=function(a,b){b[C]=s+a+"px, 0px"+t},Ia=function(a,b){if(!g.loop&&b){var c=k+(ra.x*pa-a)/ra.x,d=Math.round(a-pb.x);(c<0&&d>0||c>=Yb()-1&&d<0)&&(a=pb.x+d*g.mainScrollEndFriction)}pb.x=a,Ha(a,l)},Ja=function(a,b){var c=qb[a]-qa[a];return ma[a]+la[a]+c-c*(b/r)},Ka=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},La=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Ma=null,Na=function(){Ma&&(e.unbind(document,"mousemove",Na),e.addClass(a,"pswp--has_mouse"),g.mouseUsed=!0,Ba("mouseUsed")),Ma=setTimeout(function(){Ma=null},100)},Oa=function(){e.bind(document,"keydown",f),L.transform&&e.bind(f.scrollWrap,"click",f),g.mouseUsed||e.bind(document,"mousemove",Na),e.bind(window,"resize scroll orientationchange",f),Ba("bindEvents")},Pa=function(){e.unbind(window,"resize scroll orientationchange",f),e.unbind(window,"scroll",p.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Na),L.transform&&e.unbind(f.scrollWrap,"click",f),T&&e.unbind(window,n,f),clearTimeout(M),Ba("unbindEvents")},Qa=function(a,b){var c=ec(f.currItem,oa,a);return b&&(ba=c),c},Ra=function(a){return a||(a=f.currItem),a.initialZoomLevel},Sa=function(a){return a||(a=f.currItem),a.w>0?g.maxSpreadZoom:1},Ta=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ja(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]&&(c[a]=b.max[a],!0))},Ua=function(){if(C){return s="translate"+(L.perspective&&!E?"3d(":"("),void(t=L.perspective?", 0px)":")")}C="left",e.addClass(a,"pswp--ie"),Ha=function(a,b){b.left=a+"px"},Ga=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Fa=function(){if(ca){var a=ca,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=na.x+"px",a.top=na.y+"px"}}},Va=function(a){var b="";g.escKey&&27===a.keyCode?b="close":g.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Wa=function(a){a&&(W||V||da||R)&&(a.preventDefault(),a.stopPropagation())},Xa=function(){f.setScrollOffset(0,e.getScrollY())},Ya={},Za=0,$a=function(a){Ya[a]&&(Ya[a].raf&&G(Ya[a].raf),Za--,delete Ya[a])},_a=function(a){Ya[a]&&$a(a),Ya[a]||(Za++,Ya[a]={})},ab=function(){for(var a in Ya)Ya.hasOwnProperty(a)&&$a(a)},bb=function(a,b,c,d,e,f,g){var h,i=Ca();_a(a);var j=function(){if(Ya[a]){if((h=Ca()-i)>=d)return $a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Ya[a].raf=F(j)}};j()},cb={shout:Ba,listen:Aa,viewportSize:oa,options:g,isMainScrollAnimating:function(){return da},getZoomLevel:function(){return q},getCurrentIndex:function(){return k},isDragging:function(){return T},isZooming:function(){return $},setScrollOffset:function(a,b){qa.x=a,K=qa.y=b,Ba("updateScrollOffset",qa)},applyZoomPan:function(a,b,c,d){na.x=b,na.y=c,q=a,Fa(d)},init:function(){if(!h&&!i){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),H=a.className,h=!0,L=e.detectFeatures(),F=L.raf,G=L.caf,C=L.transform,J=L.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),l=f.container.style,f.itemHolders=w=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],w[0].el.style.display=w[2].el.style.display="none",Ua(),p={resize:f.updateSize,orientationchange:function(){clearTimeout(M),M=setTimeout(function(){oa.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Xa,keydown:Va,click:Wa};var d=L.isOldIOSPhone||L.isOldAndroid||L.isMobileOpera;for(L.animationName&&L.transform&&!d||(g.showAnimationDuration=g.hideAnimationDuration=0),c=0;c<ua.length;c++)f["init"+ua[c]]();if(b){(f.ui=new b(f,e)).init()}Ba("firstUpdate"),k=k||g.index||0,(isNaN(k)||k<0||k>=Yb())&&(k=0),f.currItem=Xb(k),(L.isOldIOSPhone||L.isOldAndroid)&&(ta=!1),a.setAttribute("aria-hidden","false"),g.modal&&(ta?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===K&&(Ba("initialLayout"),K=I=e.getScrollY());var j="pswp--open ";for(g.mainClass&&(j+=g.mainClass+" "),g.showHideOpacity&&(j+="pswp--animate_opacity "),j+=E?"pswp--touch":"pswp--notouch",j+=L.animationName?" pswp--css_animation":"",j+=L.svg?" pswp--svg":"",e.addClass(a,j),f.updateSize(),m=-1,sa=null,c=0;c<3;c++)Ha((c+m)*ra.x,w[c].el.style);J||e.bind(f.scrollWrap,o,f),Aa("initialZoomInEnd",function(){f.setContent(w[0],k-1),f.setContent(w[2],k+1),w[0].el.style.display=w[2].el.style.display="block",g.focus&&a.focus(),Oa()}),f.setContent(w[1],k),f.updateCurrItem(),Ba("afterInit"),ta||(u=setInterval(function(){Za||T||$||q!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){h&&(h=!1,i=!0,Ba("close"),Pa(),$b(f.currItem,null,!0,f.destroy))},destroy:function(){Ba("destroy"),Tb&&clearTimeout(Tb),a.setAttribute("aria-hidden","true"),a.className=H,u&&clearInterval(u),e.unbind(f.scrollWrap,o,f),e.unbind(window,"scroll",f),vb(),ab(),za=null},panTo:function(a,b,c){c||(a>ba.min.x?a=ba.min.x:a<ba.max.x&&(a=ba.max.x),b>ba.min.y?b=ba.min.y:b<ba.max.y&&(b=ba.max.y)),na.x=a,na.y=b,Fa()},handleEvent:function(a){a=a||window.event,p[a.type]&&p[a.type](a)},goTo:function(a){a=ya(a);var b=a-k;sa=b,k=a,f.currItem=Xb(k),pa-=b,Ia(ra.x*pa),ab(),da=!1,f.updateCurrItem()},next:function(){f.goTo(k+1)},prev:function(){f.goTo(k-1)},updateCurrZoomItem:function(a){if(a&&Ba("beforeChange",0),w[1].el.children.length){var b=w[1].el.children[0];ca=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else ca=null;ba=f.currItem.bounds,r=q=f.currItem.initialZoomLevel,na.x=ba.center.x,na.y=ba.center.y,a&&Ba("afterChange")},invalidateCurrItems:function(){v=!0;for(var a=0;a<3;a++)w[a].item&&(w[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==sa){var b,c=Math.abs(sa);if(!(a&&c<2)){f.currItem=Xb(k),wa=!1,Ba("beforeChange",sa),c>=3&&(m+=sa+(sa>0?-3:3),c=3);for(var d=0;d<c;d++)sa>0?(b=w.shift(),w[2]=b,m++,Ha((m+2)*ra.x,b.el.style),f.setContent(b,k-c+d+1+1)):(b=w.pop(),w.unshift(b),m--,Ha(m*ra.x,b.el.style),f.setContent(b,k+c-d-1-1));if(ca&&1===Math.abs(sa)){var e=Xb(x);e.initialZoomLevel!==q&&(ec(e,oa),ic(e),Ga(e))}sa=0,f.updateCurrZoomItem(),x=k,Ba("afterChange")}}},updateSize:function(b){if(!ta&&g.modal){var c=e.getScrollY();if(K!==c&&(a.style.top=c+"px",K=c),!b&&va.x===window.innerWidth&&va.y===window.innerHeight)return;va.x=window.innerWidth,va.y=window.innerHeight,a.style.height=va.y+"px"}if(oa.x=f.scrollWrap.clientWidth,oa.y=f.scrollWrap.clientHeight,Xa(),ra.x=oa.x+Math.round(oa.x*g.spacing),ra.y=oa.y,Ia(ra.x*pa),Ba("beforeResize"),void 0!==m){for(var d,h,i,j=0;j<3;j++)d=w[j],Ha((j+m)*ra.x,d.el.style),i=k+j-1,g.loop&&Yb()>2&&(i=ya(i)),h=Xb(i),h&&(v||h.needsUpdate||!h.bounds)?(f.cleanSlide(h),f.setContent(d,i),1===j&&(f.currItem=h,f.updateCurrZoomItem(!0)),h.needsUpdate=!1):d.index===-1&&i>=0&&f.setContent(d,i),h&&h.container&&(ec(h,oa),ic(h),Ga(h));v=!1}r=q=f.currItem.initialZoomLevel,ba=f.currItem.bounds,ba&&(na.x=ba.center.x,na.y=ba.center.y,Fa(!0)),Ba("resize")},zoomTo:function(a,b,c,d,f){b&&(r=q,qb.x=Math.abs(b.x)-na.x,qb.y=Math.abs(b.y)-na.y,Ka(ma,na));var g=Qa(a,!1),h={};Ta("x",g,h,a),Ta("y",g,h,a);var i=q,j={x:na.x,y:na.y};La(h);var k=function(b){1===b?(q=a,na.x=h.x,na.y=h.y):(q=(a-i)*b+i,na.x=(h.x-j.x)*b+j.x,na.y=(h.y-j.y)*b+j.y),f&&f(b),Fa(1===b)};c?bb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},db={},eb={},fb={},gb={},hb={},ib=[],jb={},kb=[],lb={},mb=0,nb=ka(),ob=0,pb=ka(),qb=ka(),rb=ka(),sb=function(a,b){return a.x===b.x&&a.y===b.y},tb=function(a,b){return Math.abs(a.x-b.x)<25&&Math.abs(a.y-b.y)<25},ub=function(a,b){return lb.x=Math.abs(a.x-b.x),lb.y=Math.abs(a.y-b.y),Math.sqrt(lb.x*lb.x+lb.y*lb.y)},vb=function(){X&&(G(X),X=null)},wb=function(){T&&(X=F(wb),Mb())},xb=function(){return!("fit"===g.scaleMode&&q===f.currItem.initialZoomLevel)},yb=function(a,b){return!(!a||a===document)&&(!(a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(b(a)?a:yb(a.parentNode,b)))},zb={},Ab=function(a,b){return zb.prevent=!yb(a.target,g.isClickableElement),Ba("preventDragEvent",a,b,zb),zb.prevent},Bb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Cb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Db=function(a,b,c){if(a-O>50){var d=kb.length>2?kb.shift():{};d.x=b,d.y=c,kb.push(d),O=a}
},Eb=function(){var a=na.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(oa.y/2))},Fb={},Gb={},Hb=[],Ib=function(a){for(;Hb.length>0;)Hb.pop();return D?(ja=0,ib.forEach(function(a){0===ja?Hb[0]=a:1===ja&&(Hb[1]=a),ja++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Hb[0]=Bb(a.touches[0],Fb),a.touches.length>1&&(Hb[1]=Bb(a.touches[1],Gb))):(Fb.x=a.pageX,Fb.y=a.pageY,Fb.id="",Hb[0]=Fb),Hb},Jb=function(a,b){var c,d,e,h,i=na[a]+b[a],j=b[a]>0,k=pb.x+b.x,l=pb.x-jb.x;if(c=i>ba.min[a]||i<ba.max[a]?g.panEndFriction:1,i=na[a]+b[a]*c,(g.allowPanToNext||q===f.currItem.initialZoomLevel)&&(ca?"h"!==ea||"x"!==a||V||(j?(i>ba.min[a]&&(c=g.panEndFriction,ba.min[a]-i,d=ba.min[a]-ma[a]),(d<=0||l<0)&&Yb()>1?(h=k,l<0&&k>jb.x&&(h=jb.x)):ba.min.x!==ba.max.x&&(e=i)):(i<ba.max[a]&&(c=g.panEndFriction,i-ba.max[a],d=ma[a]-ba.max[a]),(d<=0||l>0)&&Yb()>1?(h=k,l>0&&k<jb.x&&(h=jb.x)):ba.min.x!==ba.max.x&&(e=i))):h=k,"x"===a))return void 0!==h&&(Ia(h,!0),Y=h!==jb.x),ba.min.x!==ba.max.x&&(void 0!==e?na.x=e:Y||(na.x+=b.x*c)),void 0!==h;da||Y||q>f.currItem.fitRatio&&(na[a]+=b[a]*c)},Kb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Wb)return void a.preventDefault();if(!S||"mousedown"!==a.type){if(Ab(a,!0)&&a.preventDefault(),Ba("pointerDown"),D){var b=e.arraySearch(ib,a.pointerId,"id");b<0&&(b=ib.length),ib[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Ib(a),d=c.length;Z=null,ab(),T&&1!==d||(T=fa=!0,e.bind(window,n,f),Q=ia=ga=R=Y=W=U=V=!1,ea=null,Ba("firstTouchStart",c),Ka(ma,na),la.x=la.y=0,Ka(gb,c[0]),Ka(hb,gb),jb.x=ra.x*pa,kb=[{x:gb.x,y:gb.y}],O=N=Ca(),Qa(q,!0),vb(),wb()),!$&&d>1&&!da&&!Y&&(r=q,V=!1,$=U=!0,la.y=la.x=0,Ka(ma,na),Ka(db,c[0]),Ka(eb,c[1]),Cb(db,eb,rb),qb.x=Math.abs(rb.x)-na.x,qb.y=Math.abs(rb.y)-na.y,_=aa=ub(db,eb))}}},Lb=function(a){if(a.preventDefault(),D){var b=e.arraySearch(ib,a.pointerId,"id");if(b>-1){var c=ib[b];c.x=a.pageX,c.y=a.pageY}}if(T){var d=Ib(a);if(ea||W||$)Z=d;else if(pb.x!==ra.x*pa)ea="h";else{var f=Math.abs(d[0].x-gb.x)-Math.abs(d[0].y-gb.y);Math.abs(f)>=10&&(ea=f>0?"h":"v",Z=d)}}},Mb=function(){if(Z){var a=Z.length;if(0!==a)if(Ka(db,Z[0]),fb.x=db.x-gb.x,fb.y=db.y-gb.y,$&&a>1){if(gb.x=db.x,gb.y=db.y,!fb.x&&!fb.y&&sb(Z[1],eb))return;Ka(eb,Z[1]),V||(V=!0,Ba("zoomGestureStarted"));var b=ub(db,eb),c=Rb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ia=!0);var d=1,e=Ra(),h=Sa();if(c<e)if(g.pinchToClose&&!ia&&r<=f.currItem.initialZoomLevel){var i=e-c,j=1-i/(e/1.2);Da(j),Ba("onPinchClose",j),ga=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>h&&(d=(c-h)/(6*e),d>1&&(d=1),c=h+d*e);d<0&&(d=0),_=b,Cb(db,eb,nb),la.x+=nb.x-rb.x,la.y+=nb.y-rb.y,Ka(rb,nb),na.x=Ja("x",c),na.y=Ja("y",c),Q=c>q,q=c,Fa()}else{if(!ea)return;if(fa&&(fa=!1,Math.abs(fb.x)>=10&&(fb.x-=Z[0].x-hb.x),Math.abs(fb.y)>=10&&(fb.y-=Z[0].y-hb.y)),gb.x=db.x,gb.y=db.y,0===fb.x&&0===fb.y)return;if("v"===ea&&g.closeOnVerticalDrag&&!xb()){la.y+=fb.y,na.y+=fb.y;var k=Eb();return R=!0,Ba("onVerticalDrag",k),Da(k),void Fa()}Db(Ca(),db.x,db.y),W=!0,ba=f.currItem.bounds;var l=Jb("x",fb);l||(Jb("y",fb),La(na),Fa())}}},Nb=function(a){if(L.isOldAndroid){if(S&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(S),S=setTimeout(function(){S=0},600))}Ba("pointerUp"),Ab(a,!1)&&a.preventDefault();var b;if(D){var c=e.arraySearch(ib,a.pointerId,"id");if(c>-1)if(b=ib.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var h,i=Ib(a),j=i.length;if("mouseup"===a.type&&(j=0),2===j)return Z=null,!0;1===j&&Ka(hb,i[0]),0!==j||ea||da||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ba("touchRelease",a,b));var k=-1;if(0===j&&(T=!1,e.unbind(window,n,f),vb(),$?k=0:ob!==-1&&(k=Ca()-ob)),ob=1===j?Ca():-1,h=k!==-1&&k<150?"zoom":"swipe",$&&j<2&&($=!1,1===j&&(h="zoomPointerUp"),Ba("zoomGestureEnded")),Z=null,W||V||da||R)if(ab(),P||(P=Ob()),P.calculateSwipeSpeed("x"),R){var l=Eb();if(l<g.verticalDragRange)f.close();else{var m=na.y,o=ha;bb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){na.y=(f.currItem.initialPosition.y-m)*a+m,Da((1-o)*a+o),Fa()}),Ba("onVerticalDrag",1)}}else{if((Y||da)&&0===j){var p=Qb(h,P);if(p)return;h="zoomPointerUp"}if(!da)return"swipe"!==h?void Sb():void(!Y&&q>f.currItem.fitRatio&&Pb(P))}},Ob=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){kb.length>1?(a=Ca()-O+50,b=kb[kb.length-2][d]):(a=Ca()-N,b=hb[d]),c.lastFlickOffset[d]=gb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(na[a]>ba.min[a]?c.backAnimDestination[a]=ba.min[a]:na[a]<ba.max[a]&&(c.backAnimDestination[a]=ba.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,bb("bounceZoomPan"+a,na[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){na[a]=b,Fa()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,na[a]+=c.distanceOffset[a])},panAnimLoop:function(){if(Ya.zoomPan&&(Ya.zoomPan.raf=F(c.panAnimLoop),c.now=Ca(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Fa(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05))return na.x=Math.round(na.x),na.y=Math.round(na.y),Fa(),void $a("zoomPan")}};return c},Pb=function(a){if(a.calculateSwipeSpeed("y"),ba=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05)return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;_a("zoomPan"),a.lastNow=Ca(),a.panAnimLoop()},Qb=function(a,b){var c;da||(mb=k);var d;if("swipe"===a){var h=gb.x-hb.x,i=b.lastFlickDist.x<10;h>30&&(i||b.lastFlickOffset.x>20)?d=-1:h<-30&&(i||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(k+=d,k<0?(k=g.loop?Yb()-1:0,j=!0):k>=Yb()&&(k=g.loop?0:Yb()-1,j=!0),j&&!g.loop||(sa+=d,pa-=d,c=!0));var l,m=ra.x*pa,n=Math.abs(m-pb.x);return c||m>pb.x==b.lastFlickSpeed.x>0?(l=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,l=Math.min(l,400),l=Math.max(l,250)):l=333,mb===k&&(c=!1),da=!0,Ba("mainScrollAnimStart"),bb("mainScroll",pb.x,m,l,e.easing.cubic.out,Ia,function(){ab(),da=!1,mb=-1,(c||mb!==k)&&f.updateCurrItem(),Ba("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Rb=function(a){return 1/aa*a*r},Sb=function(){var a=q,b=Ra(),c=Sa();q<b?a=b:q>c&&(a=c);var d,g=ha;return ga&&!Q&&!ia&&q<b?(f.close(),!0):(ga&&(d=function(a){Da((1-g)*a+g)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};xa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){y=a+b,z=a+c,A=a+d,B=e?a+e:""};D=L.pointerEvent,D&&L.touch&&(L.touch=!1),D?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):L.touch?(a("touch","start","move","end","cancel"),E=!0):a("mouse","down","move","up"),n=z+" "+A+" "+B,o=y,D&&!E&&(E=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=E,p[y]=Kb,p[z]=Lb,p[A]=Nb,B&&(p[B]=p[A]),L.touch&&(o+=" mousedown",n+=" mousemove mouseup",p.mousedown=p[y],p.mousemove=p[z],p.mouseup=p[A]),E||(g.allowPanToNext=!1)}}});var Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b=function(b,c,d,h){Tb&&clearTimeout(Tb),Wb=!0,Vb=!0;var i;b.initialLayout?(i=b.initialLayout,b.initialLayout=null):i=g.getThumbBoundsFn&&g.getThumbBoundsFn(k);var l=d?g.hideAnimationDuration:g.showAnimationDuration,m=function(){$a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Da(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ba("initialZoom"+(d?"OutEnd":"InEnd"))),h&&h(),Wb=!1};if(!l||!i||void 0===i.x)return Ba("initialZoom"+(d?"Out":"In")),q=b.initialZoomLevel,Ka(na,b.initialPosition),Fa(),a.style.opacity=d?0:1,Da(1),void(l?setTimeout(function(){m()},l):m());!function(){var c=j,h=!f.currItem.src||f.currItem.loadError||g.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(q=i.w/b.w,na.x=i.x,na.y=i.y-I,f[h?"template":"bg"].style.opacity=.001,Fa()),_a("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),h&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Tb=setTimeout(function(){if(Ba("initialZoom"+(d?"Out":"In")),d){var f=i.w/b.w,g={x:na.x,y:na.y},j=q,k=ha,n=function(b){1===b?(q=f,na.x=i.x,na.y=i.y-K):(q=(f-j)*b+j,na.x=(i.x-g.x)*b+g.x,na.y=(i.y-K-g.y)*b+g.y),Fa(),h?a.style.opacity=1-b:Da(k-b*k)};c?bb("initialZoom",0,1,l,e.easing.cubic.out,n,m):(n(1),Tb=setTimeout(m,l+20))}else q=b.initialZoomLevel,Ka(na,b.initialPosition),Fa(),Da(1),h?a.style.opacity=1:Da(1),Tb=setTimeout(m,l+20)},d?25:90)}()},_b={},ac=[],bc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ub.length}},cc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},dc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((_b.x-b)/2),d.center.y=Math.round((_b.y-c)/2)+a.vGap.top,d.max.x=b>_b.x?Math.round(_b.x-b):d.center.x,d.max.y=c>_b.y?Math.round(_b.y-c)+a.vGap.top:d.center.y,d.min.x=b>_b.x?0:d.center.x,d.min.y=c>_b.y?a.vGap.top:d.center.y},ec=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ba("parseVerticalMargin",a)),_b.x=b.x,_b.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=_b.x/a.w,f=_b.y/a.h;a.fitRatio=e<f?e:f;var h=g.scaleMode;"orig"===h?c=1:"fit"===h&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=cc())}if(!c)return;return dc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=cc(),a.initialPosition=a.bounds.center,a.bounds},fc=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,ic(b,d,b===f.currItem&&wa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},gc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},hc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=g.errorMsg.replace("%url%",a.src),!0},ic=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},jc=function(){if(ac.length){for(var a,b=0;b<ac.length;b++)a=ac[b],a.holder.index===a.index&&fc(a.index,a.item,a.baseDiv,a.img,0,a.clearPlaceholder);ac=[]}};xa("Controller",{publicMethods:{lazyLoadItem:function(a){a=ya(a);var b=Xb(a);b&&(!b.loaded&&!b.loading||v)&&(Ba("gettingData",a,b),b.src&&gc(b))},initController:function(){e.extend(g,bc,!0),f.items=Ub=c,Xb=f.getItemAt,Yb=g.getNumItemsFn,Zb=g.loop,Yb()<3&&(g.loop=!1),Aa("beforeChange",function(a){var b,c=g.preload,d=null===a||a>=0,e=Math.min(c[0],Yb()),h=Math.min(c[1],Yb());for(b=1;b<=(d?h:e);b++)f.lazyLoadItem(k+b);for(b=1;b<=(d?e:h);b++)f.lazyLoadItem(k-b)}),Aa("initialLayout",function(){f.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(k)}),Aa("mainScrollAnimComplete",jc),Aa("initialZoomInEnd",jc),Aa("destroy",function(){for(var a,b=0;b<Ub.length;b++)a=Ub[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);ac=null})},getItemAt:function(a){return a>=0&&(void 0!==Ub[a]&&Ub[a])},allowProgressiveImg:function(){return g.forceProgressiveLoading||!E||g.mouseUsed||screen.width>1200},setContent:function(a,b){g.loop&&(b=ya(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,i=f.getItemAt(b);if(!i)return void(a.el.innerHTML="");Ba("gettingData",b,i),a.index=b,a.item=i;var j=i.container=e.createEl("pswp__zoom-wrap");if(!i.src&&i.html&&(i.html.tagName?j.appendChild(i.html):j.innerHTML=i.html),hc(i),ec(i,oa),!i.src||i.loadError||i.loaded)i.src&&!i.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=i.src,ic(i,d),fc(0,i,j,d));else{if(i.loadComplete=function(c){if(h){if(a&&a.index===b){if(hc(c,!0))return c.loadComplete=c.img=null,ec(c,oa),Ga(c),void(a.index===k&&f.updateCurrZoomItem());c.imageAppended?!Wb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):L.transform&&(da||Wb)?ac.push({item:c,baseDiv:j,img:c.img,index:b,holder:a,clearPlaceholder:!0}):fc(0,c,j,c.img,0,!0)}c.loadComplete=null,c.img=null,Ba("imageLoadComplete",b,c)}},e.features.transform){var l="pswp__img pswp__img--placeholder";l+=i.msrc?"":" pswp__img--placeholder--blank";var m=e.createEl(l,i.msrc?"img":"");i.msrc&&(m.src=i.msrc),ic(i,m),j.appendChild(m),i.placeholder=m}i.loading||gc(i),f.allowProgressiveImg()&&(!Vb&&L.transform?ac.push({item:i,baseDiv:j,img:i.img,index:b,holder:a}):fc(0,i,j,i.img,0,!0))}Vb||b!==k?Ga(i):(ca=j.style,$b(i,d||i.img)),a.el.innerHTML="",a.el.appendChild(j)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var kc,lc={},mc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};xa("Tap",{publicMethods:{initTap:function(){Aa("firstTouchStart",f.onTapStart),Aa("touchRelease",f.onTapRelease),Aa("destroy",function(){lc={},kc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(kc),kc=null)},onTapRelease:function(a,b){if(b&&!W&&!U&&!Za){var c=b;if(kc&&(clearTimeout(kc),kc=null,tb(c,lc)))return void Ba("doubleTap",c);if("mouse"===b.type)return void mc(a,b,"mouse");if("BUTTON"===a.target.tagName.toUpperCase()||e.hasClass(a.target,"pswp__single-tap"))return void mc(a,b);Ka(lc,c),kc=setTimeout(function(){mc(a,b),kc=null},300)}}}});var nc;xa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){J||(E?Aa("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){nc={};var c="wheel mousewheel DOMMouseScroll";Aa("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Aa("unbindEvents",function(){nc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),q<1?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Aa("resize",g),Aa("afterChange",g),Aa("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Aa("pointerUp",h),b||g()},handleMouseWheel:function(a){if(q<=f.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||Za||T?a.preventDefault():C&&Math.abs(a.deltaY)>2&&(j=!0,f.close())),!0;if(a.stopPropagation(),nc.x=0,"deltaX"in a)1===a.deltaMode?(nc.x=18*a.deltaX,nc.y=18*a.deltaY):(nc.x=a.deltaX,nc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(nc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?nc.y=-.16*a.wheelDeltaY:nc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;nc.y=a.detail}Qa(q,!0);var b=na.x-nc.x,c=na.y-nc.y;(g.modal||b<=ba.min.x&&b>=ba.max.x&&c<=ba.min.y&&c>=ba.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:oa.x/2+qa.x,y:oa.y/2+qa.y};var c=g.getDoubleTapZoom(!0,f.currItem),d=q===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac={history:!0,galleryUID:1},Bc=function(){return yc.hash.substring(1)},Cc=function(){oc&&clearTimeout(oc),qc&&clearTimeout(qc)},Dc=function(){var a=Bc(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(g.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Ub.length;c++)if(Ub[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Ec=function(){if(qc&&clearTimeout(qc),Za||T)return void(qc=setTimeout(Ec,500));rc?clearTimeout(pc):rc=!0;var a=k+1,b=Xb(k);b.hasOwnProperty("pid")&&(a=b.pid);var c=uc+"&gid="+g.galleryUID+"&pid="+a;vc||yc.hash.indexOf(c)===-1&&(xc=!0);var d=yc.href.split("#")[0]+"#"+c;zc?"#"+c!==window.location.hash&&history[vc?"replaceState":"pushState"]("",document.title,d):vc?yc.replace(d):yc.hash=c,vc=!0,pc=setTimeout(function(){rc=!1},60)};xa("History",{publicMethods:{initHistory:function(){if(e.extend(g,Ac,!0),g.history){yc=window.location,xc=!1,wc=!1,vc=!1,uc=Bc(),zc="pushState"in history,uc.indexOf("gid=")>-1&&(uc=uc.split("&gid=")[0],uc=uc.split("?gid=")[0]),Aa("afterChange",f.updateURL),Aa("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){tc=!0,wc||(xc?history.back():uc?yc.hash=uc:zc?history.pushState("",document.title,yc.pathname+yc.search):yc.hash=""),Cc()};Aa("unbindEvents",function(){j&&a()}),Aa("destroy",function(){tc||a()}),Aa("firstUpdate",function(){k=Dc().pid});var b=uc.indexOf("pid=");b>-1&&(uc=uc.substring(0,b),"&"===uc.slice(-1)&&(uc=uc.slice(0,-1))),setTimeout(function(){h&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){if(Bc()===uc)return wc=!0,void f.close();rc||(sc=!0,f.goTo(Dc().pid),sc=!1)},updateURL:function(){Cc(),sc||(vc?oc=setTimeout(Ec,800):Ec())}}}),e.extend(f,cb)}}),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";return function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),!!c.href&&(!!c.hasAttribute("download")||(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1))},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){2===++J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&a<.95?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&b<.9?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){(a=!1)&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;g<f;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event,C(d,"ui--over-close",I(a.target||a.srcElement))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){if(j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return a.template[this.enterK]();a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}}}),document.addEventListener("DOMContentLoaded",function(){function a(a){document.body.classList.toggle("state--dinner-menu-exposed")}var b=document.getElementById("header--button--dinner"),c=document.getElementById("page--main--overlay");b.addEventListener("click",a,!1),c.addEventListener("click",a,!1)}),window.addEventListener("load",function(){var a=document.getElementById("portfolio-item--thumbnails");if(a){new Isotope(a,{itemSelector:".portfolio-item--thumbnail",layoutMode:"masonry"})}var b=document.getElementsByClassName("portfolio-item--thumbnail");if(b.length>0)var c=0,d=setInterval(function(){c===b.length-1&&clearInterval(d),b[c].classList.remove("loading"),c++},10)});